<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>手机Root终极指南：2025年Magisk实用教程</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <header class="header">
        <h1>📱 手机Root终极指南：2025年Magisk实用教程</h1>
        <p><b>作者：</b>OninesixY &nbsp;|&nbsp; <b>整理：</b>Gemini</p>
    </header>

    <hr>

    <details open>
        <summary><b>⚠️ 重要声明（请务必阅读）</b></summary>
        <p>Root操作（获取最高系统权限）是一把双刃剑。它能让您完全掌控安卓设备，进行深度定制、卸载预装应用、运行高级工具等，但也伴随巨大风险：</p>
        <ul>
            <li><b>失去官方保修：</b> 多数厂商不为已Root设备提供保修。</li>
            <li><b>系统不稳定：</b> 错误操作可能导致频繁死机、重启，甚至“变砖”。</li>
            <li><b>安全风险：</b> 恶意软件可能更易入侵，窃取隐私信息。</li>
            <li><b>无法接收官方系统更新（OTA）：</b> Root会修改系统分区，影响官方推送的系统更新。</li>
        </ul>
        <p><b>请完整阅读本教程，理解每一步，并务必备份所有重要数据。因操作不当造成的任何损失，需自行承担！</b></p>
    </details>

    <hr>

    <section>
        <h2>一、准备工作</h2>
        <p>在Root前，请务必完成以下准备：</p>

        <h3>1. 解锁Bootloader</h3>
        <ul>
            <li><b>什么是Bootloader？</b> 安卓系统启动前的引导程序，厂商默认锁定以防止系统被修改。</li>
            <li><b>为何要解锁？</b> 只有解锁后，才能刷入第三方镜像（如修补后的<code>boot.img</code>或TWRP Recovery）。</li>
            <li><b>如何解锁？</b> 不同品牌方式不同（如小米需官方工具，OPPO/Realme需深度测试等）。请查阅品牌官方指南或XDA-Developers等社区。<br><b>注意：</b>解锁Bootloader会清除所有数据，请提前备份！</li>
        </ul>

        <h3>2. 下载必要文件与工具</h3>
        <ul>
            <li><b>Platform-Tools (ADB & Fastboot)：</b> Google官方命令行工具，用于电脑与手机间高级通信。
                <ul>
                    <li><b>官方下载：</b> <a href="https://developer.android.com/tools/releases/platform-tools" target="_blank">SDK Platform Tools release notes</a></li>
                    <li><b>使用方法：</b> 下载对应系统的压缩包，解压到<strong>不含中文或特殊字符</strong>的路径（如 <code>C:\adb</code>），后续命令行操作均在此文件夹内进行。</li>
                </ul>
            </li>
            <li><b>手机官方固件（ROM）：</b> 下载与当前系统版本<strong>完全一致</strong>的ROM包，用于提取修补所需的<code>boot.img</code>或<code>init_boot.img</code>。可在手机官网或可信ROM资源站获取。</li>
            <li><b>Magisk App：</b> 目前主流Root方案，具备“systemless”特性。请从官方GitHub发布页下载最新版Magisk App（<code>.apk</code>文件）。</li>
        </ul>
    </section>

    <hr>

    <section>
        <h2>二、Root核心操作</h2>
        <p>本教程推荐两种主流Magisk Root方法，<b>方法一最通用且推荐！</b></p>

        <h3>方法一：修补启动镜像（boot.img / init_boot.img）</h3>
        <p><b>Magisk官方推荐，兼容性最佳。</b></p>

        <h4>核心概念</h4>
        <ul>
            <li><code>boot.img</code>：包含系统内核和Ramdisk，是安卓启动关键。</li>
            <li><code>init_boot.img</code>：Android 13及以上设备，Ramdisk被移至独立<code>init_boot</code>分区。</li>
            <li><b>判断标准：</b> 安装并打开Magisk，主界面会显示“Ramdisk”状态。若需修补<code>init_boot.img</code>，会有提示或需根据内核版本判断。一般2022年后新机型多用<code>init_boot.img</code>。</li>
        </ul>

        <h4>操作步骤</h4>
        <ol>
            <li><b>提取启动镜像：</b> 解压官方ROM包，找到<code>boot.img</code>或<code>init_boot.img</code>。</li>
            <li><b>传输镜像到手机：</b> 将上述文件复制到手机内部存储（如“下载”文件夹）。</li>
            <li><b>安装Magisk应用：</b> 在手机安装Magisk <code>.apk</code>。</li>
            <li><b>修补镜像文件：</b>
                <ul>
                    <li>打开Magisk，点击“安装”</li>
                    <li>选择“选择并修补一个文件”</li>
                    <li>选择刚复制的<code>boot.img</code>或<code>init_boot.img</code></li>
                    <li>修补完成后在“下载”文件夹生成<code>magisk_patched-版本号.img</code></li>
                </ul>
            </li>
            <li><b>传输已修补镜像到电脑：</b> 将<code>magisk_patched-....img</code>复制回电脑<code>platform-tools</code>文件夹。</li>
            <li><b>进入Fastboot模式：</b> 手机关机，同时按“电源键+音量下键”（部分品牌组合键不同）至Fastboot/Bootloader界面。</li>
            <li><b>连接电脑并刷入：</b>
                <ul>
                    <li>用USB线连接手机至电脑。</li>
                    <li>在<code>platform-tools</code>文件夹内，地址栏输入<code>cmd</code>或<code>powershell</code>回车，打开命令行。</li>
                    <li>输入：
                        <pre><button class="copy-button">复制</button><code>fastboot devices</code></pre>
                        若显示序列号，说明连接成功。
                    </li>
                    <li><b>根据修补文件类型，执行：</b>
                        <ul>
                            <li>修补<code>boot.img</code>：
                                <pre><button class="copy-button">复制</button><code>fastboot flash boot magisk_patched-....img</code></pre>
                            </li>
                            <li>修补<code>init_boot.img</code>：
                                <pre><button class="copy-button">复制</button><code>fastboot flash init_boot magisk_patched-....img</code></pre>
                            </li>
                        </ul>
                        <sub class="note">（请将文件名替换为实际生成的文件名）</sub>
                    </li>
                </ul>
            </li>
            <li><b>重启手机：</b>
                <pre><button class="copy-button">复制</button><code>fastboot reboot</code></pre>
            </li>
            <li><b>完成：</b> 开机后打开Magisk，若显示当前版本号即Root成功！</li>
        </ol>
    </section>
    
    <hr>

    <section>
        <h3>方法二：通过第三方Recovery刷入Magisk</h3>
        <p>如已刷入第三方Recovery（如TWRP），可用此法。</p>

        <h4>前提条件</h4>
        <ul>
            <li>手机已成功刷入可用第三方Recovery（TWRP/OrangeFox等）。</li>
        </ul>

        <h4>操作步骤</h4>
        <ol>
            <li><b>准备文件：</b> 下载Magisk <code>.apk</code>，重命名为<code>Magisk.zip</code>，复制到手机存储或SD卡。</li>
            <li><b>进入Recovery模式：</b> 重启至TWRP等第三方Recovery（按键组合因机型而异）。</li>
            <li><b>刷入Magisk：</b>
                <ul>
                    <li>TWRP主界面点击“Install”。</li>
                    <li>选择<code>Magisk.zip</code>。</li>
                    <li>滑动滑块确认刷入。</li>
                </ul>
            </li>
            <li><b>重启系统：</b> 刷入完成后选择“Reboot System”。</li>
            <li><b>完成：</b> 重启后桌面会出现Magisk图标，若无可手动安装<code>.apk</code>。</li>
        </ol>
    </section>

    <hr>

    <section>
        <h2>三、紧急情况与卸载</h2>

        <h3>刷入后无法开机？</h3>
        <p>如Root后卡在开机动画或无法进入系统，通常因镜像不匹配。只需重新进入Fastboot模式，刷回官方ROM中提取的<strong>原始</strong><code>boot.img</code>或<code>init_boot.img</code>即可：</p>
        <pre><button class="copy-button">复制</button><code>fastboot flash boot boot.img        # 刷回原始boot.img
fastboot flash init_boot init_boot.img  # 刷回原始init_boot.img</code></pre>

        <h3>如何卸载Magisk？</h3>
        <p>最简单方法：打开Magisk应用，首页下方有“卸载Magisk”选项，点击后选择“完全卸载”即可。</p>
    </section>

    <script src="script.js"></script>

</body>
</html>
